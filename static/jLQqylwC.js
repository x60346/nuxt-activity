import{_ as B}from"./DhMhX7vL.js";import{m as C,r as k,z as S,n as V,c as v,a as r,p as w,F as P,s as I,q as e,v as y,y as m,o as p,t as n,b as u,d as f}from"./Bk16EdzY.js";import{u as $}from"./CH8DRhzE.js";const D={class:"max-w-screen-xl mx-auto p-3"},E={class:"relative flex flex-col min-h-50 rounded overflow-hidden mb-3"},M=["onClick"],q={class:"inline-block"},O={class:"col-span-12 md:col-span-6 mb-3"},G={class:"mb-2"},H={class:"indent-8"},J={class:"col-span-12 md:col-span-5 md:col-start-8"},K={class:"flex gap-2 items-center"},Q={class:"flex gap-2 items-center"},R={class:"flex gap-2 items-center"},U={class:"flex gap-2 items-center"},W={class:"flex gap-2 items-center"},X=["href"],Y={class:"absolute top-0 left-0 w-full bg-gray-100 h-full rounded p-2 flex items-center justify-center dark:bg-gray-800"},Z={class:"flex justify-center gap-3"},ee=["onClick"],se={__name:"Festival",setup(ae){const{getApiFestival:F}=$();let x=C([]),h=C([]),c=k(1),b=S(()=>{let d=Math.ceil(h.length/10),t=[];for(let l=0;l<d;l++)if(l===0){let a={pageNum:l+1,pageId:l+1,pageActive:!0};t.push(a)}else{let a={pageNum:l+1,pageId:l+1,pageActive:!1};t.push(a)}return t}),N=k(!0);async function T(){N.value=!0;const d=await F();Object.assign(h,d.data),_(1),N.value=!1}function _(d){x.splice(0);for(let t=10*d-10;t<10*d;t++)h[t]&&x.push(h[t]);window.scrollTo(0,0)}let o=C([!1,!0,!0,!0,!0,!0,!0,!0,!0,!0]);function L(d){for(let t=0;t<o.length;t++)t!=d&&(o[t]=!0);o[d]=!o[d]}let s=k(!0),i=k(!1);function A(d){b.value.forEach(t=>{t.pageActive=!1,t.pageId===d&&(t.pageActive=!0,c.value=t.pageNum)}),s.value=!1,i.value=!1,c.value===1&&(s.value=!0),c.value===b.value.length&&(i.value=!0);for(let t=0;t<o.length;t++)o[t]=!0}function j(){c.value>1&&(c.value-=1,A(c.value),_(c.value))}function z(){c.value<b.value.length&&(c.value+=1,A(c.value),_(c.value))}return V(()=>{T(),window.scrollTo(0,0)}),(d,t)=>{const l=B;return p(),v("div",D,[t[0]||(t[0]=r("h2",{class:"mb-3 text-2xl"},"節慶活動",-1)),r("div",E,[(p(!0),v(P,null,I(e(x),(a,g)=>(p(),v("div",{class:"flex flex-col",key:a.actId},[r("div",{onClick:te=>L(g),class:m(["flex flex-auto items-center hover:bg-emerald-200 p-3 dark:hover:bg-emerald-900",{"dark:bg-emerald-900":!e(o)[g],"dark:bg-gray-800":e(o)[g],"bg-emerald-200":!e(o)[g],"bg-white":e(o)[g]}])},[r("h2",q,n(a.actName),1),w(u(l,{class:"ml-auto",icon:"chevron-down"},null,512),[[y,e(o)[g]]]),w(u(l,{class:"ml-auto",icon:"chevron-up"},null,512),[[y,!e(o)[g]]])],10,M),r("div",{class:m([{hidden:e(o)[g]},"grid grid-cols-12 bg-emerald-100 px-6 py-4 dark:bg-gray-600"])},[r("div",O,[r("div",G,[r("strong",null,[u(l,{icon:"location-dot"}),f(" "+n(a.cityName),1)])]),r("p",H,n(a.description),1)]),r("div",J,[r("div",K,[u(l,{icon:"map-location-dot"}),f(" "+n(a.address),1)]),r("div",Q,[u(l,{icon:"calendar-days"}),f(" "+n(a.startTime)+"～"+n(a.endTime),1)]),r("div",R,[u(l,{icon:"phone"}),f(" "+n(a.tel),1)]),r("div",U,[u(l,{icon:"sitemap"}),f(" "+n(a.org),1)]),w(r("div",W,[u(l,{icon:"window-maximize"}),r("a",{class:"italic text-emerald-500 hover:text-emerald-600",href:a.website},n(a.website),9,X)],512),[[y,a.website]])])],2)]))),128)),w(r("div",Y," Loading... ",512),[[y,e(N)]])]),r("ul",Z,[r("li",{class:m(["p-2 border-b border-emerald-600 rounded dark:border-emerald-400",{"bg-gray-400":e(s),"cursor-default":e(s),"dark:bg-gray-600":e(s),"dark:text-gray-700":e(s),"bg-white":!e(s),"cursor-pointer":!e(s),"hover:bg-emerald-100":!e(s),"dark:bg-gray-800":!e(s),"dark:text-white":!e(s),"dark:hover:bg-emerald-600":!e(s),"dark:hover:border-gray-300":!e(s)}]),onClick:j}," « ",2),(p(!0),v(P,null,I(e(b),a=>(p(),v("li",{class:m(["p-2 border-b cursor-pointer border-emerald-600 hover:bg-emerald-100 rounded dark:border-emerald-400 dark:text-white dark:hover:bg-emerald-600 dark:hover:border-gray-300",{"bg-emerald-100":a.pageActive,"dark:bg-emerald-600":a.pageActive,"bg-white":!a.pageActive,"dark:bg-gray-800":!a.pageActive,"dark:border-gray-300":!a.pageActive,"dark:border-gray-300":a.pageActive}]),onClick:g=>(_(a.pageNum),A(a.pageId)),key:a.pageId},n(a.pageNum),11,ee))),128)),r("li",{class:m(["p-2 border-b border-emerald-600 rounded dark:border-emerald-400",{"bg-gray-400":e(i),"cursor-default":e(i),"dark:bg-gray-600":e(i),"dark:text-gray-700":e(i),"bg-white":!e(i),"cursor-pointer":!e(i),"hover:bg-emerald-100":!e(i),"dark:bg-gray-800":!e(i),"dark:hover:text-white":!e(i),"dark:hover:bg-emerald-600":!e(i),"dark:hover:border-gray-300":!e(i)}]),onClick:z}," » ",2)])])}}};export{se as default};
